# -*- mode: mandoku-view; -*-
#+TITLE: 歷算全書
#+DATE: 2015-08-24 23:10:10.135262
#+PROPERTY: ID KR3f0026
#+PROPERTY: BASEEDITION WYG    
#+PROPERTY: JUAN 卷三十
<pb:KR3f0026_WYG_034-1a>¶
欽定四庫全書¶
　厯算全書巻三十¶
　　　　　　　　　　　　宣城梅文鼎撰¶
　　籌算一¶
　作籌之度¶
凡籌以牙為之或紙或竹片皆可長短任意以方正為¶
　度¶
凡籌背面皆平分九行每行以曲線界之為兩半圓狀¶
<pb:KR3f0026_WYG_034-1b>¶
凡籌背面皆相對第一籌之隂即為第九便檢尋也二¶
　與八三與七四與六五與空位皆倣此共五類類各¶
　五籌當珠盤二十五位或更加之亦可　外有開方¶
　大籌為平方立方之用詳見别巻¶
　籌式列左¶
<pb:KR3f0026_WYG_034-2a>¶
¶
<pb:KR3f0026_WYG_034-3a>¶
　作籌之理¶
凡籌每行以曲線界之成兩位其下為本位上為進位¶
　假如本位一兩則進位為十兩¶
凡列兩籌則行内成三位下之進位與上之本位兩半¶
　圓合成一位故也　列三籌則成四位　列四籌則¶
　成五位　五籌以上皆倣此¶
凡籌有明數有暗數明數者籌面所有之數是也暗數¶
　者行數也假如第一行即為一數第二行即為二數¶
<pb:KR3f0026_WYG_034-3b>¶
凡籌與行數相因而成積數假如第二籌之第四行即¶
　為八數第九籌之第八行即為七二數¶
　籌算之資¶
凡用籌算當先知併減二法今各具一則¶
　併法¶
併者合也合衆散數為一總數也又謂之垜積　其法¶
　先列散數自上而下對位列之千對千百對百十對¶
　十單對單以類相附¶
<pb:KR3f0026_WYG_034-4a>¶
　列訖併為一總數　其法從最下小數起自下而上¶
　如畫卦之法　數滿十者進位作暗馬而本位書其¶
　零¶
　　　　　　　　　　　　　恐混原數故以此¶
　　　　　　　　　　　　　别之便覆核也¶
假如有米三千四百八十石又五千○六十八石又二¶
萬六千九百石合之共幾何¶
　¶
<pb:KR3f0026_WYG_034-4b>¶
　　　　　　　　　　如圖散數三宗依法併之為¶
　　　　　　　　　　一總數得三萬五千四百四¶
　　　　　　　　　　十八石¶
　¶
　減積法¶
減者去也于總數内減去幾何則知其仍餘幾何也減¶
　與併正相反減而剰者謂之減餘¶
　其法以應減去之數列左以原有之總數列右而對¶
<pb:KR3f0026_WYG_034-5a>¶
　減之¶
　千對減千百對減百十對減十單對減單¶
　減而盡者抹去之　減而不盡者改而書之¶
　本位無數可減合上位減之假如欲減八十而原數¶
　只有七十但其上位有一百則合而減之于一百七¶
　十内減八十仍餘九十¶
假如有銀三十二萬五千三百一十兩支放過二十九¶
　萬五千三百○五兩仍餘幾何¶
<pb:KR3f0026_WYG_034-5b>¶
　　　　　　　　　　依法減之仍餘三萬○○○¶
　　　　　　　　　　五兩¶
　¶
　　　十萬千百十兩¶
　如圖先于三十萬内減二十萬餘一十萬改三為一¶
　　次減九萬而萬位無九合上位共一十二萬減之¶
　餘三萬抹去一二改書三¶
　次減五千　次減三百　皆減盡皆抹去之書作○¶
<pb:KR3f0026_WYG_034-6a>¶
　　次減五兩而兩位無五于一十兩内減之抹去一¶
　○改書○五　減訖餘二○○○三¶
凡算有乘有除乘者用併法除者用減法¶
　籌算之用¶
凡算先别乘除乘除皆有法實實者現有之物也法者¶
　今所用以乘之除之之規則也¶
凡籌算皆以實列位而以籌為法法有幾位則用幾籌¶
　如法有十係兩位則用兩籌法有百係三位則用三¶
<pb:KR3f0026_WYG_034-6b>¶
　籌¶
凡法實不可誤用唯乘法或可通融若除法必須細認¶
　俱詳後¶
<pb:KR3f0026_WYG_034-7a>¶
　乘法¶
勿菴氏曰凡理之可言者皆其有數者也數始於一相¶
　縁以至於無窮故曰一與一為二二與一為三自此¶
　以徃巧厯不能盡乘之義也故首乗法¶
解曰乗者増加之義其數漸陞如乗髙而進也亦曰因¶
　言相因而多也珠算有因法有乗法在籌算總一乘¶
　法殊為簡易¶
法曰凡兩數相乘任以一為實一為法¶
<pb:KR3f0026_WYG_034-7b>¶
　假如以人數給糧或以人為實糧為法或以糧為實¶
　人為法皆可¶
　凡算先列實(列書之于紙或粉板亦可依千/百十零之位列之自左而右)¶
　　次以法數用籌乘之¶
　　法有幾位則用幾籌¶
　　(假如法為六十四則用第六第四兩籌法為/三百八十四則用第三第八第四共三籌)¶
　凡乘皆從實末位最小數起¶
　　視原實某數即於籌其行取數列之¶
<pb:KR3f0026_WYG_034-8a>¶
　　(假如實是二則/取第二行數)¶
　凡列乘數皆自下而上如畫卦¶
　凡實有幾位挨次乗之但次乗之數必髙于前所列¶
　　之數一位¶
　　(假如先乘者是單次乗/者必是十故進位列之)¶
　乗訖乃以併法併之合問¶
<pb:KR3f0026_WYG_034-9a>¶
¶
<pb:KR3f0026_WYG_034-10a>¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
<pb:KR3f0026_WYG_034-10b>¶
又法¶
　凡法尾空位者省不乗但于併數之後補作圏于其¶
　下以存其位尤為簡捷¶
　　　　　　　　　　　　　如上圖乘訖併得三○¶
　　　　　　　　　　　　　○○因法尾有空又補¶
　　　　　　　　　　　　　作一圏是為三○○○¶
　　　　　　　　　　　　　○則知所得三萬¶
　　　　　　　　　　　　　定位法見前¶
<pb:KR3f0026_WYG_034-11a>¶
¶
<pb:KR3f0026_WYG_034-12a>¶
　又若田為一畝二分則所得為三合何也畝下有分¶
　故得數之三○○其尾○又是勺下之分也此定位¶
　之精理須細審之¶
<pb:KR3f0026_WYG_034-13a>¶
¶
<pb:KR3f0026_WYG_034-14a>¶
一四二四四四五七五共九位因實尾空位(無零年/故也)用¶
省乘法加一○于末位下共十位而以尾○命為分得¶
一十四萬二千四百四十四日五十七刻五十○分合¶
問¶
　¶
　¶
　¶
　¶
<pb:KR3f0026_WYG_034-14b>¶
　除法¶
勿菴氏曰天地之道盈虚消息而已無有盈而不虛無¶
　有消而不息乘者息也盈也除者消也虚也二者相¶
　反而不能相無其數每相當不失毫釐如相報也邵¶
　子曰算法雖多乘除盡之矣故除法次之¶
解曰除者分物之法也原作幾何今作幾分分之則成¶
　各得之數而除去原數也有歸除有商除珠算任用¶
　籌算則獨用商除為便以意商量用之故曰商除¶
<pb:KR3f0026_WYG_034-15a>¶
法曰凡除以所分之物為實今欲作幾分分之為法法¶
　與實須審定倘一倒置則毫釐千里矣(假如有糧若/干分給若干)¶
　(人則當以糧為實以人之數為法除之盖糧數是所/分之物人數是用以分之之法也若倒用以糧分人)¶
　(則所誤/多矣)　凡法有幾位則用幾籌　乃列實(自上而/下直書)¶
　(之/)　視籌之第幾行中積數有與原實相同者或略¶
　少於實者用其數以減原實而得初商　有不盡者¶
　如法再商或三商以上皆如之實盡而止　餘實不¶
　滿法以法命之¶
<pb:KR3f0026_WYG_034-15b>¶
　凡商數皆以籌之行數為其數(假如所減是等第一/行即商一數第二行)¶
　(即商/二數)¶
書商數法曰凡書商數皆與減數第一位相對　若所¶
　減第一位是○則補作○于原實首位上而對之(此/定)¶
　(位之/根)¶
定位法曰除畢以商得數與原實對位求之皆于法首¶
　位之上一位命為單數(程大位曰歸于法前得零/古法實如法而一是也)¶
　此有二法　有法少實多者從原實内尋法首位認¶
<pb:KR3f0026_WYG_034-16a>¶
　定逆轉上一位命為單數(如米則為單石錢/則為單文之類)既得單¶
　數則上而十百千萬下而分秒忽微皆定矣此為正¶
　法¶
　有法反多實反少者乃變法也法從原實首位逆溯¶
　而上至法首位止又上一位命為單數(此是虚位借/之以求實數)¶
　既得單數乃順下求之命所得為分秒之數¶
　¶
　¶
<pb:KR3f0026_WYG_034-16b>¶
初商除盡式　　　　法此欲分為七十二分也故以七二為¶
假如太陽每　　　　　法用兩籌¶
嵗行天三百　　　　實三六○　　如圖先列三百六十度¶
六十度分為　　　　　百十　　　為實次簡兩籌行内有¶
七十二候每　　　　　　　　　　三六○與實相同用減¶
候幾何度　　　　　　　　　　　原實恰盡　次查所簡¶
(答/曰)每候五度　　　　　　　　　　係籌之第五行商作五¶
　又查所減第一位是三將商數五對三字書之¶
<pb:KR3f0026_WYG_034-17a>¶
定位法曰此法少于實也宜于原實内尋十度位即法¶
　首位也法首再上一位為單度定所得為五度¶
　假令實是三千六百則所得為五十度如後圖¶
　　　　　　　　　定位法曰此亦法少于實也法亦于¶
　　　　　　　　　原實内尋法首十位再上一位為單¶
　　　　　　　　　位單位空補作圏再上一位是十度¶
　　　　　　　　　定所得為五十度用籌同而得數逈¶
　　　　　　　　　異定位之法所以當明也¶
<pb:KR3f0026_WYG_034-17b>¶
再商式　　　　　　法此欲分為一十二分也故以一二¶
假如皇極經世　　　　為法用兩籌¶
一元共一十二　　　實　　　　　　如圖列實(一元/總數)簡¶
萬九千六百年　　　○一二九六○○籌第一行是○一¶
分為一十二會　　　　十萬千百十年二商作一數(第一/行故)¶
各幾何　　　　　　　　　　　　　(商/一)減實一十二萬¶
答曰每㑹一萬　　　　　　　　　　餘九千六百不盡¶
○八百年　　　　　　　　　　　　再用籌如法除之¶
<pb:KR3f0026_WYG_034-18a>¶
　又因所減數是○一二故于原實首補作圏而以商¶
　得一對此○位書之(即所減籌上/第一位也)此定位之根不可¶
　錯須細審之¶
　　　　　　　　　　簡兩籌第八行是○九六與餘實¶
　　　　　　　　　　相合再商八(第八行/故也)減餘實九千¶
　　　　　　　　　　六百恰盡¶
　　　　　　　　　　此所減數亦是○九六故以商得¶
　　　　　　　　　　八進位書之以暗對其○¶
<pb:KR3f0026_WYG_034-18b>¶
　如此審定商數位置已知不錯而初商次商隔一位¶
　不相接是得數有空位也乃于其間補作圏為一○¶
　八¶
　假如隔兩位則作兩圏三位以上倣此求之若非于¶
　商數審其位置鮮不誤矣此算中一大闗鍵也非此¶
　則不能定位¶
定位訣曰此亦法少于實也從原實内尋法首十位再¶
　上一位是單年單位空補作圏又上一位是十十亦¶
<pb:KR3f0026_WYG_034-19a>¶
　空亦補作圈又上一位是百知所得為八百年也知¶
　百知千萬矣定為一萬○八百年¶
　¶
　¶
　¶
　¶
　¶
　¶
<pb:KR3f0026_WYG_034-19b>¶
假如黄鍾之　　　　　　法此欲分得二千一百八十¶
實一十七萬　　　　　　　七乃為一分故以二一八¶
七千一百四十　　　　　　七為法用四籌¶
七其分法二¶
千一百八十¶
七問若干分¶
答曰八十一¶
分¶
<pb:KR3f0026_WYG_034-20a>¶
　二千一百八十七再商之¶
　¶
　　　　　　　　　簡籌第一行是○二一八七正合¶
　　　　　　　　　餘實再商一除實恰盡¶
　　　　　　　　　次商一進位書暗對所減○位¶
　　　　　　　　　定位訣從原實尋法首位千逆轉¶
　　　　　　　　　上一位得單分則餘位皆定¶
　¶
<pb:KR3f0026_WYG_034-20b>¶
按籌算原書于定位頗略又其為法原實横而商數縱¶
各居其方不相依附定位頗難故雖厯書間有訛位今¶
特詳之而兩兩直書于定位尤易亦足見余之非好為¶
異也¶
<pb:KR3f0026_WYG_034-21a>¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
<pb:KR3f0026_WYG_034-21b>¶
四商法¶
假如有小珠三十四　　　　　此欲分為九分有竒也(以/錢)¶
萬三千一百五十四　　　　　(為主則六分五釐是其/竒零九分之分去聲)故¶
粒換得大珠重九錢　　　　　以(九六/五)為法用籌三根¶
六分五釐每大珠一　　　　　如後圖列實先簡籌第(三/)¶
錢換小珠幾何粒　　　　　　行(二八/九五)略少于實商(三/)減¶
答曰每錢換三萬五　　　　　實(二十八萬/九千五百)餘實(五萬三/千六百)¶
千五百六十粒　　　　　　　(五十/四)以候續商¶
<pb:KR3f0026_WYG_034-22a>¶
　　　　　　　　　次簡籌第(五/)行是(四八/二五)為略少于餘¶
　　　　　　　　　　實商(五/)減餘實(四萬八千/二百五十)仍餘(五/千)¶
　　　　　　　　　　(四百/○四)以待第三商¶
原實　　　　　　　又簡籌第(五/)行是(四八/二五)為略少于餘¶
　　　　　　　　　　實又商(五/)減餘實(四千八百/二十五)仍餘¶
商數　　　　　　　　(五百七/十九)知尚有第四商也¶
　　　　　　　　　又簡籌第(六/)行是(五七/九○)與餘實恰合¶
四次商數俱對首位　　商作(六/)除餘實(五百七/十九)恰盡¶
<pb:KR3f0026_WYG_034-22b>¶
定位訣從原實中尋法首(單/)位逆轉上一位得(單/)粒定¶
所得為(三萬五千五/百六十○粒)命為大珠每錢所換小珠之數¶
　五園問曰法是錢數實是粒數不類也何定位亦如¶
　是準乎勿菴曰此定位之法所以的確不易也且錢¶
　與粒不類子疑之固矣抑知單與單之為一類乎葢所問¶
　是每錢若干故錢數為單位若問每分若干則法首¶
　錢數為十位得為(三千五百/五十六)矣故定位須詳問意乃¶
　要訣也¶
<pb:KR3f0026_WYG_034-23a>¶
法有○籌式　　　　　法此欲分作(九百○/七分)也故以(九○/七)¶
假如布二萬　　　　　　為法用三籌¶
一千七百六　　　　　　　　　　　如圖簡籌第(二/)行¶
十八丈給與　　　　　　　　　　　(一八/一四)商作(二/)減實¶
九百○七人　　　　　　　　　　　(一萬八千/一百四十)餘(三千/六百)¶
各幾何　　　　　　　　　　　　　(二十/八丈)次簡第(四/)行¶
答曰(每人二/十四丈)　　　　　　　　　　　(三六/二八)商(四/)除實盡¶
　以上例皆法少于實故法首在原實中乃本法也¶
<pb:KR3f0026_WYG_034-24a>¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
　¶
<pb:KR3f0026_WYG_034-24b>¶
　以上兩例皆法多于實者其法首位或在原實中必¶
　原實首位也或不在原實中則在其原實上幾位也¶
　要之皆不能滿法其所得必為分秒乃通變之法也¶
論曰除者分也吾欲作幾分分之則為法所分之物為¶
　實所分之物能如所欲分之數則為滿法滿法則成¶
　一整數假如(三十/六)人分布而布有(三十/六)丈則各人分¶
　得一丈古云實如法而一正謂此也程大位算法統¶
　宗曰歸扵法前得零其意亦同此立法之本意也¶
<pb:KR3f0026_WYG_034-25a>¶
　乃有所分之物原少于所欲分之數是不滿法也既¶
　不滿法則不能成一整數而所分者皆分秒之數假¶
　如(三十/六)人分布(二十/七)丈則每人不能分一丈只各得¶
　(七尺/五寸)是于(一/丈)内得其(七分/五秒)也然必先知整數然後可¶
　以知分秒故必于原實上虚擬一滿法之位若曰能¶
　如此則分得整數矣而今不能則所分得者皆分秒¶
　也于是視所擬整數虚位距商數若干位而命之若¶
　相差一位則得為十之一(如兩有錢/尺有寸)隔位則為百之¶
<pb:KR3f0026_WYG_034-25b>¶
　一(如兩有分/丈有寸)此乃通變之法要其為法上得零則一¶
　而已矣¶
又論曰此原實即不滿法也若餘實不滿法除之終不¶
　能盡則以命分之法御之詳後¶
　命分法¶
法曰凡除法商數至單已極而有餘實不盡者不能成¶
　一整數也則以法命之此有二法¶
一法即以除法為命分不盡之數為得分則云幾十幾¶
<pb:KR3f0026_WYG_034-26a>¶
　分之幾¶
解曰命分者以一整數擬作若干分而命之如滿此數¶
　則成一整數而今數少故命之也得分者今所僅有¶
　之數在命分數内得若干也(命分者古謂之分母/得分者古謂之分子)¶
假如古厯以九百四十分為日法每年三百六十五日¶
　又九百四十分日之二百三十五約為四之一(約法/見後)¶
一法除之至盡古厯家所謂退除為分秒是也單下有¶
　一位命為十分之幾有兩位命為百分之幾十幾三¶
<pb:KR3f0026_WYG_034-26b>¶
　位則命分千四位則命分萬皆以除得數為得分¶
假如授時厯法每嵗三百六十五日二千四百二十五¶
　分是以萬分為日即命分也¶
　式如後¶
假如五尺為歩每方一歩積二十五尺今有積二百四¶
　十尺得若干步¶
　答曰九步又五分步之三¶
<pb:KR3f0026_WYG_034-27a>¶
　　　　　　　　　　如圖列實簡籌第九行是二二¶
　　　　　　　　　　五商作九(第九/行故)減實二百二十¶
　　　　　　　　　　五尺餘一十五不盡以法命之¶
　　　　　　　　　　命為九步又二十五分歩之一¶
　　　　　　　　　　十五約為五之三(約分法/見後)¶
　¶
　　　　　　　　　　若用第二命分法再列餘實加¶
　　　　　　　　　　○位商之以得其分秒如後¶
<pb:KR3f0026_WYG_034-27b>¶
　　　　　　　　　　餘實下加一圈則一十五尺通¶
　　　　　　　　　　為一百五十分可再商矣¶
　　　　　　　　　　簡等第六行是一五○商六分¶
　　　　　　　　　　除餘實恰盡¶
　　　　　　　　　　命分九歩六分(即十分/歩之六)¶
　　　　　　　　　　(命分第二法與法多于實/除法同故皆曰除分秒也)¶
若餘實為一十六尺則又不盡一尺法當於不盡一¶
○之下再加一圈為一○○使此一尺化為一百分而¶
<pb:KR3f0026_WYG_034-28a>¶
再除之得四釐共九歩六分四釐(即百分歩/之六十四)¶
　約分法¶
約分者約其繁以從簡也¶
法曰母數子數平列相減而得其紐數即以紐數為法¶
　轉除兩原數而得其可約之分¶
凡約分相減不拘左右但以少減多如左少右多則以¶
　左減右左多右少則以右減左若減之後或多者變¶
　而少則轉減之必減至左右相同無可減而止即紐¶
<pb:KR3f0026_WYG_034-28b>¶
　數也(若一減之即得紐/數則不必轉減)¶
解曰紐數者互相減之餘數相等者也以此除兩數則¶
　皆可分乃兩數之樞紐¶
　若相減至盡而無紐數者則不可約¶
假如母數二十五子數一十五約之若干¶
　畣曰五之三¶
　一○　先以(十/五)　　復以(一/十)　○五¶
　二五　減(二十/五)一○轉減(十/五)　一○¶
<pb:KR3f0026_WYG_034-29a>¶
　一五　餘(一十/○)一五　餘(○/五)　　○五¶
　復以(○/五)轉減(一/十)餘(○五左右皆/五即為紐數)以紐數(○/五)為法轉除¶
　母(二十/五)得(五/)除子數(一十/五)得(三/)故曰五之三葢母數¶
　是五個五子數是三個五也¶
　　此轉減例¶
又如母數九百四十子數二百三十五約之若干¶
　畣曰四之一¶
　先以(二百三/十五)減(九百/四十)餘(七百/○五)又減之餘(四百七/十○)又減¶
<pb:KR3f0026_WYG_034-29b>¶
　之餘(二百三/十五)¶
　　　　　　左右皆(二百三/十五)即紐數也¶
　　　　　　以紐數(二百三/十五)轉除母數(九百/四十)得(四/)除¶
　　　　　　子數(二百三/十五)得一故曰四之一¶
　　　　　　母數是四個(二百三/十五)¶
　　　　　　子數是一個(二百三/十五)¶
　此不轉減例¶
　厯算全書巻三十¶
